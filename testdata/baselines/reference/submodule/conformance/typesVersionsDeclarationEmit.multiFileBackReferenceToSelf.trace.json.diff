--- old.typesVersionsDeclarationEmit.multiFileBackReferenceToSelf.trace.json
+++ new.typesVersionsDeclarationEmit.multiFileBackReferenceToSelf.trace.json
@@= skipped -0, +0 lines =@@
 ======== Resolving module 'ext' from '/.src/main.ts'. ========
-Module resolution kind is not specified, using 'Node10'.
-Loading module 'ext' from 'node_modules' folder, target file types: TypeScript, Declaration.
+Module resolution kind is not specified, using 'Bundler'.
+Resolving in CJS mode with conditions 'require', 'types'.
+File '/.src/package.json' does not exist.
+File '/package.json' does not exist.
+Loading module 'ext' from 'node_modules' folder, target file types: TypeScript, JavaScript, Declaration, JSON.
 Searching all ancestor node_modules directories for preferred extensions: TypeScript, Declaration.
 Found 'package.json' at '/.src/node_modules/ext/package.json'.
 File '/.src/node_modules/ext.ts' does not exist.
@@= skipped -8, +11 lines =@@
 'package.json' has a 'typesVersions' field with version-specific path mappings.
 'package.json' does not have a 'typings' field.
 'package.json' has 'types' field 'index' that references '/.src/node_modules/ext/index'.
-'package.json' has a 'typesVersions' entry '>=3.1.0-0' that matches compiler version '3.1.0-dev', looking for a pattern to match module name 'index'.
+'package.json' has a 'typesVersions' entry '>=3.1.0-0' that matches compiler version '7.0.0-dev', looking for a pattern to match module name 'index'.
 Module name 'index', matched pattern '*'.
 Trying substitution 'ts3.1/*', candidate module location: 'ts3.1/index'.
 Loading module as file / folder, candidate module location '/.src/node_modules/ext/ts3.1/index', target file types: TypeScript, Declaration.
@@= skipped -9, +9 lines =@@
 File '/.src/node_modules/ext/ts3.1/index.d.ts' exists - use it as a name resolution result.
 'package.json' does not have a 'peerDependencies' field.
 Resolving real path for '/.src/node_modules/ext/ts3.1/index.d.ts', result '/.src/node_modules/ext/ts3.1/index.d.ts'.
-======== Module name 'ext' was successfully resolved to '/.src/node_modules/ext/ts3.1/index.d.ts' with Package ID 'ext/ts3.1/index.d.ts@1.0.0'. ========
+======== Module name 'ext' was successfully resolved to '/.src/node_modules/ext/ts3.1/index.d.ts' with Package ID 'ext@1.0.0'. ========
 ======== Resolving module 'ext/other' from '/.src/main.ts'. ========
-Module resolution kind is not specified, using 'Node10'.
-Loading module 'ext/other' from 'node_modules' folder, target file types: TypeScript, Declaration.
+Module resolution kind is not specified, using 'Bundler'.
+Resolving in CJS mode with conditions 'require', 'types'.
+File '/.src/package.json' does not exist according to earlier cached lookups.
+File '/package.json' does not exist according to earlier cached lookups.
+Loading module 'ext/other' from 'node_modules' folder, target file types: TypeScript, JavaScript, Declaration, JSON.
 Searching all ancestor node_modules directories for preferred extensions: TypeScript, Declaration.
 File '/.src/node_modules/ext/package.json' exists according to earlier cached lookups.
-'package.json' has a 'typesVersions' entry '>=3.1.0-0' that matches compiler version '3.1.0-dev', looking for a pattern to match module name 'other'.
+'package.json' has a 'typesVersions' entry '>=3.1.0-0' that matches compiler version '7.0.0-dev', looking for a pattern to match module name 'other'.
 Module name 'other', matched pattern '*'.
 Trying substitution 'ts3.1/*', candidate module location: 'ts3.1/other'.
 File '/.src/node_modules/ext/ts3.1/other.ts' does not exist.
 File '/.src/node_modules/ext/ts3.1/other.tsx' does not exist.
 File '/.src/node_modules/ext/ts3.1/other.d.ts' exists - use it as a name resolution result.
+'package.json' does not have a 'peerDependencies' field.
 Resolving real path for '/.src/node_modules/ext/ts3.1/other.d.ts', result '/.src/node_modules/ext/ts3.1/other.d.ts'.
-======== Module name 'ext/other' was successfully resolved to '/.src/node_modules/ext/ts3.1/other.d.ts' with Package ID 'ext/ts3.1/other.d.ts@1.0.0'. ========
-File '/.src/node_modules/ext/ts3.1/package.json' does not exist.
-File '/.src/node_modules/ext/package.json' exists according to earlier cached lookups.
+======== Module name 'ext/other' was successfully resolved to '/.src/node_modules/ext/ts3.1/other.d.ts' with Package ID 'ext@1.0.0'. ========
 ======== Resolving module '../' from '/.src/node_modules/ext/ts3.1/index.d.ts'. ========
-Module resolution kind is not specified, using 'Node10'.
-Loading module as file / folder, candidate module location '/.src/node_modules/ext/', target file types: TypeScript, Declaration.
+Module resolution kind is not specified, using 'Bundler'.
+Resolving in CJS mode with conditions 'require', 'types'.
+Loading module as file / folder, candidate module location '/.src/node_modules/ext/', target file types: TypeScript, JavaScript, Declaration, JSON.
 File '/.src/node_modules/ext/package.json' exists according to earlier cached lookups.
 'package.json' does not have a 'typings' field.
 'package.json' has 'types' field 'index' that references '/.src/node_modules/ext/index'.
-'package.json' has a 'typesVersions' entry '>=3.1.0-0' that matches compiler version '3.1.0-dev', looking for a pattern to match module name 'index'.
+'package.json' has a 'typesVersions' entry '>=3.1.0-0' that matches compiler version '7.0.0-dev', looking for a pattern to match module name 'index'.
 Module name 'index', matched pattern '*'.
 Trying substitution 'ts3.1/*', candidate module location: 'ts3.1/index'.
-Loading module as file / folder, candidate module location '/.src/node_modules/ext/ts3.1/index', target file types: TypeScript, Declaration.
+Loading module as file / folder, candidate module location '/.src/node_modules/ext/ts3.1/index', target file types: TypeScript, JavaScript, Declaration, JSON.
 File '/.src/node_modules/ext/ts3.1/index.ts' does not exist.
 File '/.src/node_modules/ext/ts3.1/index.tsx' does not exist.
 File '/.src/node_modules/ext/ts3.1/index.d.ts' exists - use it as a name resolution result.
-======== Module name '../' was successfully resolved to '/.src/node_modules/ext/ts3.1/index.d.ts' with Package ID 'ext/s3.1/index.d.ts@1.0.0'. ========
-File '/.src/node_modules/ext/ts3.1/package.json' does not exist according to earlier cached lookups.
-File '/.src/node_modules/ext/package.json' exists according to earlier cached lookups.
+======== Module name '../' was successfully resolved to '/.src/node_modules/ext/ts3.1/index.d.ts'. ========
 ======== Resolving module '../other' from '/.src/node_modules/ext/ts3.1/other.d.ts'. ========
-Module resolution kind is not specified, using 'Node10'.
-Loading module as file / folder, candidate module location '/.src/node_modules/ext/other', target file types: TypeScript, Declaration.
+Module resolution kind is not specified, using 'Bundler'.
+Resolving in CJS mode with conditions 'require', 'types'.
+Loading module as file / folder, candidate module location '/.src/node_modules/ext/other', target file types: TypeScript, JavaScript, Declaration, JSON.
 File '/.src/node_modules/ext/other.ts' does not exist.
 File '/.src/node_modules/ext/other.tsx' does not exist.
 File '/.src/node_modules/ext/other.d.ts' exists - use it as a name resolution result.
 File '/.src/node_modules/ext/package.json' exists according to earlier cached lookups.
-======== Module name '../other' was successfully resolved to '/.src/node_modules/ext/other.d.ts' with Package ID 'ext/other.d.ts@1.0.0'. ========
-File '/.src/node_modules/ext/package.json' exists according to earlier cached lookups.
+'package.json' does not have a 'peerDependencies' field.
+======== Module name '../other' was successfully resolved to '/.src/node_modules/ext/other.d.ts' with Package ID 'ext@1.0.0'. ========